(this["webpackJsonpimage-finder"]=this["webpackJsonpimage-finder"]||[]).push([[0],{10:function(e,a,t){e.exports={Overlay:"Modal_Overlay__1XvEu",Modal:"Modal_Modal__37nn6"}},14:function(e,a,t){e.exports={ImageGallery:"ImageGallery_ImageGallery__3M4mQ"}},15:function(e,a,t){e.exports={Button:"Button_Button__1GauX"}},16:function(e,a,t){e.exports=t(46)},21:function(e,a,t){},45:function(e,a,t){},46:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(2),c=t.n(o),l=(t(21),t(11)),i=t(3),m=t(4),u=t(6),s=t(5),g=t(8),h=t(13),d=t.n(h),f=(t(43),t(44),t(7)),p=t.n(f),y=function(e){Object(u.a)(t,e);var a=Object(s.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={imageQuery:""},e.handleNameChange=function(a){e.setState({imageQuery:a.currentTarget.value.toLowerCase()})},e.handleSubmit=function(a){a.preventDefault(),""!==e.state.imageQuery.trim()?(e.props.onSubmit(e.state.imageQuery),e.setState({imageQuery:""})):g.b.error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441.")},e}return Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("header",{className:p.a.Searchbar},r.a.createElement("form",{className:p.a.SearchForm,onSubmit:this.handleSubmit},r.a.createElement("input",{className:p.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",name:"imageQuery",value:this.state.imageQuery,onChange:this.handleNameChange}),r.a.createElement("button",{type:"submit",className:p.a.SearchFormButton},r.a.createElement("span",{className:p.a.SearchFormButtonLabel},"Search"))))}}]),t}(n.Component),b=t(9),v=t.n(b);var I=function(e){var a=e.images,t=e.onClick;return r.a.createElement(r.a.Fragment,null,a.map((function(e){return r.a.createElement("li",{key:e.id,className:v.a.ImageGalleryItem,onClick:t},r.a.createElement("img",{className:v.a.ImageGalleryItemImage,src:e.webformatURL,"data-image":e.largeImageURL,alt:""}))})))},S=t(14),_=t.n(S);var E=function(e){var a=e.images,t=e.onClick;return r.a.createElement("ul",{className:_.a.ImageGallery},r.a.createElement(I,{images:a,onClick:t}))},C=t(15),k=t.n(C);var F=function(e){var a=e.onClick;return r.a.createElement("button",{type:"button",className:k.a.Button,onClick:a},"Load more")},w=t(10),O=t.n(w),j=document.querySelector("#modal-root"),N=function(e){Object(u.a)(t,e);var a=Object(s.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).handleKeyDown=function(a){"Escape"===a.code&&e.props.onClose()},e.handleBbackdropClick=function(a){a.currentTarget===a.target&&e.props.onClose()},e}return Object(m.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(o.createPortal)(r.a.createElement("div",{className:O.a.Overlay,onClick:this.handleBbackdropClick},r.a.createElement("div",{className:O.a.Modal},this.props.children)),j)}}]),t}(n.Component);var B={fetchImage:function(e){var a=e.imageQuery,t=void 0===a?"":a,n=e.currentPage,r=void 0===n?1:n;return fetch("".concat("https://pixabay.com/api","/?image_type=photo&orientation=horizontal&q=").concat(t,"&page=").concat(r,"&per_page=12&key=").concat("18969292-6634fe46747360e3150bf5a1e")).then((function(e){return e.ok?e.json():Promise.reject(new Error("\u041f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e ".concat(t)))}))}},L=(t(45),function(e){Object(u.a)(t,e);var a=Object(s.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={images:[],currentPage:1,imageQuery:"",largeImage:"",isLoading:!1,error:null},e.toggleModal=function(){e.setState({largeImage:""})},e.onClickImage=function(a){a.preventDefault(),"IMG"===a.target.nodeName&&e.setState({largeImage:a.target.dataset.image})},e.handleFormSubmit=function(a){e.setState({imageQuery:a,currentPage:1,images:[]})},e.fetchImage=function(){var a=e.state,t={currentPage:a.currentPage,imageQuery:a.imageQuery};e.setState({isLoading:!0}),B.fetchImage(t).then((function(a){var t=a.hits;return e.setState((function(e){return{images:[].concat(Object(l.a)(e.images),Object(l.a)(t)),currentPage:e.currentPage+1}}))})).then((function(){window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})})).catch((function(a){return e.setState({error:a})})).finally((function(){return e.setState({isLoading:!1})}))},e}return Object(m.a)(t,[{key:"componentDidUpdate",value:function(e,a){a.imageQuery!==this.state.imageQuery&&this.fetchImage()}},{key:"render",value:function(){var e=this.state,a=e.images,t=e.isLoading,n=e.largeImage;return r.a.createElement("div",{className:"App"},r.a.createElement(y,{onSubmit:this.handleFormSubmit}),r.a.createElement(E,{images:a,onClick:this.onClickImage}),r.a.createElement("div",{className:"spinner"},t&&r.a.createElement(d.a,{type:"BallTriangle",color:"#00BFFF",height:80,width:80})),a.length>0&&r.a.createElement(F,{onClick:this.fetchImage}),n&&r.a.createElement(N,{onClose:this.toggleModal},r.a.createElement("img",{src:this.state.largeImage,alt:"modal"})),r.a.createElement(g.a,{autoClose:2e3}))}}]),t}(n.Component)),Q=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,49)).then((function(a){var t=a.getCLS,n=a.getFID,r=a.getFCP,o=a.getLCP,c=a.getTTFB;t(e),n(e),r(e),o(e),c(e)}))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(L,null)),document.getElementById("root")),Q()},7:function(e,a,t){e.exports={Searchbar:"Searchbar_Searchbar__RNp9I",SearchForm:"Searchbar_SearchForm__3dfon",SearchFormButton:"Searchbar_SearchFormButton__2sWVC",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__3E2e8",SearchFormInput:"Searchbar_SearchFormInput__1IWhm"}},9:function(e,a,t){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__2NbnZ",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__2TCOj"}}},[[16,1,2]]]);
//# sourceMappingURL=main.4d1ddba8.chunk.js.map